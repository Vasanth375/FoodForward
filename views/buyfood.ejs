<%- include('./partials/header.ejs', { first: "Home", second: "Buy" }) %>

<<div class="container-xxl py-5">
    <div class="container">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h5 class="section-title ff-secondary text-center text-primary fw-normal">Our Services</h5>
            <h1 class="mb-5">Buy Food</h1>
        </div>
        <div class="row g-4">
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
                <a href="#" class="text-decoration-none" id="vegetables-link">
                    <div class="service-item rounded pt-3" style="border: 2px solid #ff9800; box-shadow: 0 0 20px rgba(255, 152, 0, 0.7);">
                        <div class="p-4">
                            <i class="fas fa-carrot fa-3x text-primary mb-4"></i>
                            <h5>Vegetables</h5>
                            <p>Healthy and nutritious vegetables</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                <a href="#" class="text-decoration-none" id="fruits-link">
                    <div class="service-item rounded pt-3" style="border: 2px solid #ff9800; box-shadow: 0 0 20px rgba(255, 152, 0, 0.7);">
                        <div class="p-4">
                            <i class="fas fa-apple-alt fa-3x text-primary mb-4"></i>
                            <h5>Fruits</h5>
                            <p>Fresh and juicy fruits</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.5s">
                <a href="#" class="text-decoration-none" id="dairy-products-link">
                    <div class="service-item rounded pt-3" style="border: 2px solid #ff9800; box-shadow: 0 0 20px rgba(255, 152, 0, 0.7);">
                        <div class="p-4">
                            <i class="fas fa-cheese fa-3x text-primary mb-4"></i>
                            <h5>Dairy Products</h5>
                            <p>Fresh and creamy dairy products</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.7s">
                <a href="#" class="text-decoration-none" id="grocery-link">
                    <div class="service-item rounded pt-3" style="border: 2px solid #ff9800; box-shadow: 0 0 20px rgba(255, 152, 0, 0.7);">
                        <div class="p-4">
                            <i class="fas fa-shopping-basket fa-3x text-primary mb-4"></i>
                            <h5>Grocery</h5>
                            <p>Essential grocery items</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
                <a href="#" class="text-decoration-none" id="snacks-link">
                    <div class="service-item rounded pt-3" style="border: 2px solid #ff9800; box-shadow: 0 0 20px rgba(255, 152, 0, 0.7);">
                        <div class="p-4">
                            <i class="fas fa-cookie fa-3x text-primary mb-4"></i>
                            <h5>Snacks</h5>
                            <p>Delicious and crunchy snacks</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                <a href="#" class="text-decoration-none" id="instant-cook-link">
                    <div class="service-item rounded pt-3" style="border: 2px solid #ff9800; box-shadow: 0 0 20px rgba(255, 152, 0, 0.7);">
                        <div class="p-4">
                            <i class="fas fa-utensil-spoon fa-3x text-primary mb-4"></i>
                            <h5>Instant Cook</h5>
                            <p>Quick and easy meal options</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.5s">
                <a href="#" class="text-decoration-none" id="cooked-food-link">
                    <div class="service-item rounded pt-3" style="border: 2px solid #ff9800; box-shadow: 0 0 20px rgba(255, 152, 0, 0.7);">
                        <div class="p-4">
                            <i class="fas fa-utensils fa-3x text-primary mb-4"></i>
                            <h5>Cooked Food</h5>
                            <p>Delicious and ready-to-eat meals</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.7s">
                <a href="#" class="text-decoration-none" id="customer-support-link">
                    <div class="service-item rounded pt-3" style="border: 2px solid #ff9800; box-shadow: 0 0 20px rgba(255, 152, 0, 0.7);">
                        <div class="p-4">
                            <i class="fas fa-headset fa-3x text-primary mb-4"></i>
                            <h5>Customer Support</h5>
                            <p>24/7 assistance and support</p>
                        </div>
                    </div>
                </a>
            </div>
            <!-- Add more categories as needed -->
        </div>
    </div>
</div>


<div id="gps-popup" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); z-index: 999;">
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #fff; padding: 20px; text-align: center; border-radius: 5px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);">
        <h3>Please Enable GPS</h3>
        <p>For complete functionality of our services, please enable GPS.</p>
        <button id="enable-gps-button" style="padding: 10px 20px; background-color: #ffc800; color: #fff; border: none; border-radius: 4px; cursor: pointer;">Enable GPS</button>
    </div>
</div>


<script>
   // Show the GPS enable pop-up when the page loads
window.addEventListener('load', function () {
    const gpsPopup = document.getElementById('gps-popup');
    const enableGpsButton = document.getElementById('enable-gps-button');

    // Check if geolocation is available in the browser
    if ("geolocation" in navigator) {
        // Show the pop-up
        gpsPopup.style.display = 'block';

        // Add event listener to the "Enable GPS" button
        enableGpsButton.addEventListener('click', function () {
            // Check if the user allows geolocation
            navigator.geolocation.getCurrentPosition(function () {
                // Hide the pop-up if GPS is enabled
                gpsPopup.style.display = 'none';
            }, function () {
                // Handle case where user denies geolocation
                alert('You denied access to GPS. Please enable GPS for complete functionality.');
            });
        });
    } else {
        // Geolocation is not available in the browser
        alert('Geolocation is not available in this browser.');
    }
});


</script>


<script>
    // Get user's current coordinates
    if ("geolocation" in navigator) {
        navigator.geolocation.getCurrentPosition(function (position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;

            // Update the href attribute of the vegetables link
            const vegetablesLink = document.getElementById("vegetables-link");
            vegetablesLink.href = `/buyer/vegetables/${latitude}/${longitude}`;

            // Update the href attribute of the fruits link
            const fruitsLink = document.getElementById("fruits-link");
            fruitsLink.href = `/buyer/fruits/${latitude}/${longitude}`;

            // Update the href attribute of the dairy products link
            const dairyProductsLink = document.getElementById("dairy-products-link");
            dairyProductsLink.href = `/buyer/dairyproducts/${latitude}/${longitude}`;

            // Update the href attribute of the grocery link
            const groceryLink = document.getElementById("grocery-link");
            groceryLink.href = `/buyer/grocery/${latitude}/${longitude}`;

            // Update the href attribute of the snacks link
            const snacksLink = document.getElementById("snacks-link");
            snacksLink.href = `/buyer/snacks/${latitude}/${longitude}`;

            // Update the href attribute of the instant cook link
            const instantCookLink = document.getElementById("instant-cook-link");
            instantCookLink.href = `/buyer/instantcook/${latitude}/${longitude}`;

            // Update the href attribute of the cooked food link
            const cookedFoodLink = document.getElementById("cooked-food-link");
            cookedFoodLink.href = `/buyer/cookedfood/${latitude}/${longitude}`;

            // Update the href attribute of the customer support link
            const customerSupportLink = document.getElementById("customer-support-link");
            customerSupportLink.href = `/decomposefood`;

            // Add more categories and update their href attributes here
        });
    }
</script>

<%- include('./partials/footer.ejs') %>
